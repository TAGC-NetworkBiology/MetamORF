<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DenCellORF: fr.tagc.uorf.ForceMergeDSOTAStrategy.ForceMergeDSOTAStrategy Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DenCellORF
   &#160;<span id="projectnumber">1.2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>fr</b></li><li class="navelem"><b>tagc</b></li><li class="navelem"><b>uorf</b></li><li class="navelem"><b>ForceMergeDSOTAStrategy</b></li><li class="navelem"><a class="el" href="classfr_1_1tagc_1_1uorf_1_1ForceMergeDSOTAStrategy_1_1ForceMergeDSOTAStrategy.html">ForceMergeDSOTAStrategy</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classfr_1_1tagc_1_1uorf_1_1ForceMergeDSOTAStrategy_1_1ForceMergeDSOTAStrategy-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">fr.tagc.uorf.ForceMergeDSOTAStrategy.ForceMergeDSOTAStrategy Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for fr.tagc.uorf.ForceMergeDSOTAStrategy.ForceMergeDSOTAStrategy:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classfr_1_1tagc_1_1uorf_1_1ForceMergeDSOTAStrategy_1_1ForceMergeDSOTAStrategy.png" usemap="#fr.tagc.uorf.ForceMergeDSOTAStrategy.ForceMergeDSOTAStrategy_map" alt=""/>
  <map id="fr.tagc.uorf.ForceMergeDSOTAStrategy.ForceMergeDSOTAStrategy_map" name="fr.tagc.uorf.ForceMergeDSOTAStrategy.ForceMergeDSOTAStrategy_map">
<area href="classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy.html" alt="fr.tagc.uorf.core.execution.MergeStrategy.MergeStrategy" shape="rect" coords="0,0,406,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a284341b35dc4fadf8bf84c362514af99"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfr_1_1tagc_1_1uorf_1_1ForceMergeDSOTAStrategy_1_1ForceMergeDSOTAStrategy.html#a284341b35dc4fadf8bf84c362514af99">__init__</a> (self)</td></tr>
<tr class="separator:a284341b35dc4fadf8bf84c362514af99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade4c3a74233c97636fe673b47eaa62e6"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfr_1_1tagc_1_1uorf_1_1ForceMergeDSOTAStrategy_1_1ForceMergeDSOTAStrategy.html#ade4c3a74233c97636fe673b47eaa62e6">execute</a> (self)</td></tr>
<tr class="separator:ade4c3a74233c97636fe673b47eaa62e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a092c6948160ba22720778f0c61550ebc"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfr_1_1tagc_1_1uorf_1_1ForceMergeDSOTAStrategy_1_1ForceMergeDSOTAStrategy.html#a092c6948160ba22720778f0c61550ebc">get_dsorftranscriptasso_to_merge</a> (self)</td></tr>
<tr class="separator:a092c6948160ba22720778f0c61550ebc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy.html">fr.tagc.uorf.core.execution.MergeStrategy.MergeStrategy</a></td></tr>
<tr class="memitem:a999869c415f278d64898cfc966900530 inherit pub_methods_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy.html#a999869c415f278d64898cfc966900530">parse_config</a> (self)</td></tr>
<tr class="separator:a999869c415f278d64898cfc966900530 inherit pub_methods_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aa4cf77691658b414a5a109a3cef0a2 inherit pub_methods_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy.html#a8aa4cf77691658b414a5a109a3cef0a2">copy_conserved_tables</a> (self)</td></tr>
<tr class="separator:a8aa4cf77691658b414a5a109a3cef0a2 inherit pub_methods_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a853e3c9d47078794ecb829fb5185e638 inherit pub_methods_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy.html#a853e3c9d47078794ecb829fb5185e638">merge_dsorfs</a> (self)</td></tr>
<tr class="separator:a853e3c9d47078794ecb829fb5185e638 inherit pub_methods_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bd4005b55af502f76009505ae736193 inherit pub_methods_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy.html#a6bd4005b55af502f76009505ae736193">merge_dstranscripts</a> (self)</td></tr>
<tr class="separator:a6bd4005b55af502f76009505ae736193 inherit pub_methods_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69763877faecc4732eed2ab09cf32453 inherit pub_methods_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy.html#a69763877faecc4732eed2ab09cf32453">merge_dsorftranscriptasso</a> (self)</td></tr>
<tr class="separator:a69763877faecc4732eed2ab09cf32453 inherit pub_methods_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdc08ae739263aa042c205f70e3bc040 inherit pub_methods_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy.html#afdc08ae739263aa042c205f70e3bc040">merge_dsota</a> (self)</td></tr>
<tr class="separator:afdc08ae739263aa042c205f70e3bc040 inherit pub_methods_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4d73772c7ea71023926d77be755c924 inherit pub_methods_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy.html#aa4d73772c7ea71023926d77be755c924">find_best_dsota_subpop</a> (self, dsorftranscriptasso_list)</td></tr>
<tr class="separator:aa4d73772c7ea71023926d77be755c924 inherit pub_methods_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f9c6169557031f5ff1c270f3761d060 inherit pub_methods_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy.html#a9f9c6169557031f5ff1c270f3761d060">clean_pro_database</a> (self)</td></tr>
<tr class="separator:a9f9c6169557031f5ff1c270f3761d060 inherit pub_methods_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06419bdc055688700361394430138509 inherit pub_methods_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy.html#a06419bdc055688700361394430138509">batch_insert_to_PRO_db</a> (self, objects_to_insert, filename, process='Undefined process')</td></tr>
<tr class="separator:a06419bdc055688700361394430138509 inherit pub_methods_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_methods_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy.html">fr.tagc.uorf.core.execution.MergeStrategy.MergeStrategy</a></td></tr>
<tr class="memitem:a59392fd4749d95e74eda3cf179bb1889 inherit pub_static_methods_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy.html#a59392fd4749d95e74eda3cf179bb1889">check_dsorftrasso_coherence</a> (dsorftranscriptasso)</td></tr>
<tr class="separator:a59392fd4749d95e74eda3cf179bb1889 inherit pub_static_methods_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add581ddbe368f46b02539bc820c2df27 inherit pub_static_methods_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy.html#add581ddbe368f46b02539bc820c2df27">find_sqce_consensus</a> (list_of_sequences, sqce_type=Constants.SEQUENCE_TYPE_DNA, threshold=Constants.DEFAULT_SQCE_CONSENSUS_AMBIG_THRESHOLD)</td></tr>
<tr class="separator:add581ddbe368f46b02539bc820c2df27 inherit pub_static_methods_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a339791c3d5869db202999ac5344569ab inherit pub_static_methods_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy.html#a339791c3d5869db202999ac5344569ab">split_dsota_using_length</a> (dsorftranscriptasso_list, max_len_diff=Constants.DEFAULT_MAX_LEN_DIFF_FOR_DSOTA_CLUSTERS)</td></tr>
<tr class="separator:a339791c3d5869db202999ac5344569ab inherit pub_static_methods_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89468c0136edff99d9ac22d5fb31a236 inherit pub_static_methods_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy.html#a89468c0136edff99d9ac22d5fb31a236">save_list_of_obj</a> (objects_to_insert, filename)</td></tr>
<tr class="separator:a89468c0136edff99d9ac22d5fb31a236 inherit pub_static_methods_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_attribs_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy.html">fr.tagc.uorf.core.execution.MergeStrategy.MergeStrategy</a></td></tr>
<tr class="memitem:a71f015d744748095fd8c47d49b0bfcfa inherit pub_static_attribs_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy.html#a71f015d744748095fd8c47d49b0bfcfa">ATTRIBUTES_FOR_MERGING_SAME_DSORF</a></td></tr>
<tr class="separator:a71f015d744748095fd8c47d49b0bfcfa inherit pub_static_attribs_classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h1><a class="el" href="classfr_1_1tagc_1_1uorf_1_1ForceMergeDSOTAStrategy_1_1ForceMergeDSOTAStrategy.html">ForceMergeDSOTAStrategy</a> </h1>
<p>This class inherits from MergeStrategy and is a strategy aiming to re-start the merging of the DSORFTranscriptAsso entries of the ORF database. This strategy is useful if an exception has been raised during the merging of the DSORFTranscriptAsso entries. It assumes that the Merge strategy has already be run, that the "conserved", ORF and Transcript tables have been filled in, and that the dictionary that associates to each unique ( ORF ID (PRO), Transcript ID (PRO) ) couple that exists the list of all the DSORFTranscriptAsso (DS) that are related to it has already been computed and saved. NB: As a '.dcorf' file is created at the end of the merging of DSORFTranscriptAsso entries and prior the insertion of data into the PRO database; it is advice NOT to use the current strategy to perform again the insertion, but to create a new one managing the insertion of data from the '.dcorf' files (as it has been done for the Insertion strategy). </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a284341b35dc4fadf8bf84c362514af99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a284341b35dc4fadf8bf84c362514af99">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def fr.tagc.uorf.ForceMergeDSOTAStrategy.ForceMergeDSOTAStrategy.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<h2>Constructor of <a class="el" href="classfr_1_1tagc_1_1uorf_1_1ForceMergeDSOTAStrategy_1_1ForceMergeDSOTAStrategy.html">ForceMergeDSOTAStrategy</a> </h2>
<p>Instance variables:</p><ul>
<li>configfile: String - The path to the config file.</li>
<li>species: String - The name of the species in the database.</li>
<li>sqce_consensus_ambig_threshold: Float[0,1] - The threshold to use to compute the sequence consensus interval.</li>
<li>max_len_diff_dsota_clust: Integer (&gt;0) - The maximal difference between the max. and min. lengths of DSORFTranscriptAsso entries to belong to the same "cluster". </li>
</ul>

<p>Reimplemented from <a class="el" href="classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy.html#a13ba6c2d12de752a21b7ec2717553b0d">fr.tagc.uorf.core.execution.MergeStrategy.MergeStrategy</a>.</p>
<div class="fragment"><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keyword">def </span>__init__( self ):</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        MergeStrategy.__init__( self ) </div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    </div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    </div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    </div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ade4c3a74233c97636fe673b47eaa62e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade4c3a74233c97636fe673b47eaa62e6">&#9670;&nbsp;</a></span>execute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def fr.tagc.uorf.ForceMergeDSOTAStrategy.ForceMergeDSOTAStrategy.execute </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<h2>execute </h2>
<p>Execute the strategy to complete the ORFTranscriptAsso table (PRO database) by merging the entries of the DSORFTranscriptAsso table (DS database).</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">DenCellORFException</td><td>When an exception has been raised during the DatabaseCheck. </td></tr>
    <tr><td class="paramname">DenCellORFException</td><td>When the ORF, Transcript or PROGene table is empty. </td></tr>
    <tr><td class="paramname">DenCellORFException</td><td>When the ORFTranscriptAsso table already contains entries. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy.html#a1cea36b0b441a121fd33ff5fc0194242">fr.tagc.uorf.core.execution.MergeStrategy.MergeStrategy</a>.</p>
<div class="fragment"><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keyword">def </span>execute( self ):</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        </div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="comment"># Run DatabaseCheck in order to check the DS and PRO databases are </span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <span class="comment"># reachable prior to the merging of DSORFTranscriptAsso entries</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        Logger.get_instance().info( <span class="stringliteral">&#39;Checking the databases prior to merge the&#39;</span> +</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                                    <span class="stringliteral">&#39; DSORFTranscriptAsso entries...&#39;</span> )</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <span class="keywordflow">try</span>:</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            DatabaseCheckStrategy().execute()</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="keywordflow">except</span> Exception <span class="keyword">as</span> e:</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            <span class="keywordflow">raise</span> DenCellORFException( <span class="stringliteral">&#39;An error occurred whilst checking the database prior to&#39;</span> +</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                                       <span class="stringliteral">&#39; merge the DSORFTranscriptAsso entries.&#39;</span> +</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                                       <span class="stringliteral">&#39;\n Error code: &#39;</span> + LogCodes.ERR_DBCHECK + <span class="stringliteral">&#39;.&#39;</span>, e )</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        </div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        </div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <span class="comment"># Check there are entries in the ORF, Transcript and Gene tables of </span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="comment"># the PRO database prior to merge the DSORFTranscriptAsso entries</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        orf_count = SQLManagerPRO.get_instance().get_session().query( ORF ).count()</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        transcript_count = SQLManagerPRO.get_instance().get_session().query( Transcript ).count()</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        progene_count = SQLManagerPRO.get_instance().get_session().query( PROGene ).count()</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        SQLManagerPRO.get_instance().close_session()</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        </div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keywordflow">if</span> ( ( orf_count == 0 ) </div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;             <span class="keywordflow">or</span> ( transcript_count == 0 )</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;             <span class="keywordflow">or</span> ( progene_count == 0 ) ):</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            <span class="keywordflow">raise</span> DenCellORFException( <span class="stringliteral">&#39;There is not any entry found in the ORF (&#39;</span> + str( orf_count ) +</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                                       <span class="stringliteral">&#39;), Transcript (&#39;</span> + str( transcript_count ) + </div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                                       <span class="stringliteral">&#39;) or Gene (&#39;</span> + str( progene_count ) + </div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                                       <span class="stringliteral">&#39;) table of the &#39;</span> + SQLManagerPRO.get_instance().get_db_name() + </div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                                       <span class="stringliteral">&#39; database (PRO database). Please note that this strategy allows&#39;</span> +</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                                       <span class="stringliteral">&#39; to re-start only the merging of the DSORFTranscriptAsso (DS)&#39;</span> +</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                                       <span class="stringliteral">&#39; entries into new ORFTranscriptAsso (PRO) entries and do not&#39;</span> +</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                                       <span class="stringliteral">&#39; perform the merging all the whole database. To do so, use the&#39;</span> +</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                                       <span class="stringliteral">&#39; &quot;Merge&quot; strategy. Please see the documentation for more information.&#39;</span> )</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        </div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        </div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="comment"># Check there is no entries in the ORFTranscriptAsso table of the </span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <span class="comment"># PRO database prior to merge the DSORFTranscriptAsso entries</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        orftranscriptasso_count = SQLManagerPRO.get_instance().get_session().query( ORFTranscriptAsso ).count()</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        SQLManagerPRO.get_instance().close_session()</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        </div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <span class="keywordflow">if</span> ( orftranscriptasso_count != 0 ):</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            <span class="keywordflow">raise</span> DenCellORFException( <span class="stringliteral">&#39;Entries have been found in the ORFTranscriptAsso table of the PRO&#39;</span> +</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                                       <span class="stringliteral">&#39; database. Please note that this strategy allows to re-start both&#39;</span> +</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                                       <span class="stringliteral">&#39; the merging of the DSORFTranscriptAsso (DS) entries into new&#39;</span> +</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                                       <span class="stringliteral">&#39; ORFTranscriptAsso (PRO) entries and the insertion of these last&#39;</span> +</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                                       <span class="stringliteral">&#39; in the PRO database. Hence, it is useful when an error occurred&#39;</span> +</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                                       <span class="stringliteral">&#39; during the merging itself but not if an error occurred during the&#39;</span> +</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                                       <span class="stringliteral">&#39; insertion of the new ORFTranscriptAsso entries. Please see the&#39;</span> +</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                                       <span class="stringliteral">&#39; documentation for more information.&#39;</span> )</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        </div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="comment"># Recover all the DSORFTranscriptAsso, </span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="comment"># and associate them with their actual ORFs and transcript</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        self.merge_dsorftranscriptasso()</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        </div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="comment"># Clean the database by removing parent entries that have no child</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        self.clean_pro_database()</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        </div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        </div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    </div></div><!-- fragment -->
</div>
</div>
<a id="a092c6948160ba22720778f0c61550ebc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a092c6948160ba22720778f0c61550ebc">&#9670;&nbsp;</a></span>get_dsorftranscriptasso_to_merge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def fr.tagc.uorf.ForceMergeDSOTAStrategy.ForceMergeDSOTAStrategy.get_dsorftranscriptasso_to_merge </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<h2>get_dsorftranscriptasso_to_merge </h2>
<p>This method allows to generate the dictionary that associates to each unique ( ORF ID (PRO), Transcript ID (PRO) ) couple that exists the list of all the DSORFTranscriptAsso (DS) that are related to it using the dictionary of IDs saved during the initial run of the Merge strategy and to to store this dictionary in the DataManager main dictionary. </p>

<p>Reimplemented from <a class="el" href="classfr_1_1tagc_1_1uorf_1_1core_1_1execution_1_1MergeStrategy_1_1MergeStrategy.html#a8b12d5286400a811fc83c1f86c25e74d">fr.tagc.uorf.core.execution.MergeStrategy.MergeStrategy</a>.</p>
<div class="fragment"><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keyword">def </span>get_dsorftranscriptasso_to_merge( self ):</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        </div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        Logger.get_instance().debug( <span class="stringliteral">&#39;ForceMergeDSOTAStrategy.get_dsorftranscriptasso_to_merge():&#39;</span> +</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                                     <span class="stringliteral">&#39; Getting the dictionary that associate to each existing&#39;</span> +</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                                     <span class="stringliteral">&#39; ( ORF ID, Transcript ID ) couples the list of DSORFTranscriptAsso&#39;</span> +</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                                     <span class="stringliteral">&#39; (DS) IDs and converting lists of IDs into list of objects.&#39;</span>)</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        </div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="comment"># Get the dictionary that associates to each unique ( ORF ID (PRO), </span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="comment"># Transcript ID (PRO) ) couple that exists the list of the IDs of </span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="comment"># all the DSORFTranscriptAsso (DS) that are related to it </span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        all_existing_orf_tr_asso_ids = FileHandlerUtil.get_obj_from_file( input_folder = Constants.MERGED_DATA_FOLDER,</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                                                                          filename = Constants.DM_ALL_EXISTING_ORF_TR_ASSO_IDS )</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        </div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="comment"># Convert the dictionary in order to change the list of IDs</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="comment"># by lists of corresponding DSORFTranscriptAsso objects</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        all_dsota = SQLManagerDS.get_instance().get_session().query( DSORFTranscriptAsso ).all()</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        SQLManagerDS.get_instance().close_session()</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        </div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        all_dsota_dict = {}</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keywordflow">for</span> dsota <span class="keywordflow">in</span> all_dsota:</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            all_dsota_dict[ dsota.id ] = dsota</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        </div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        existing_orf_tr_asso_all = {}</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keywordflow">for</span> ( ( orf_id, tr_id ), dsota_ids_list ) <span class="keywordflow">in</span> all_existing_orf_tr_asso_ids.items():</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            existing_orf_tr_asso_all[ ( orf_id, tr_id ) ] = map( <span class="keyword">lambda</span> x: all_dsota_dict.get( x ), dsota_ids_list )</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        </div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <span class="comment"># Store the dictionary in the DataManager main dictionary</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        DataManager.get_instance().store_data( Constants.DM_EXISTING_ORF_TR_ASSO_ALL, existing_orf_tr_asso_all )</div></div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/volume1/choteau/workspace/tagc-uorf/step1/src/fr/tagc/uorf/ForceMergeDSOTAStrategy.py</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
